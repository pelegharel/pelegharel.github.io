<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Computery insights  | Illustrations with math in your tex document</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.68.3" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.1cb140d8ba31d5b2f1114537dd04802a.css" rel="stylesheet">
    

    

    
      
    

    
    
    <meta property="og:title" content="Illustrations with math in your tex document" />
<meta property="og:description" content="TL;DR This guide explains how to draw and add figures to a tex document using the illustration program Inkscape
and how to automate that process.
When writing my Thesis paper, I couldn&rsquo;t find any resources on how to draw and embed figures containing math expressions in .tex documents. Specifically, I wanted math equations inside my figures that will not look pixilated after modifying the figure size from the tex code. Eventually, after much trial and error, I found a workflow that I was happy with." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/inkscape/" />
<meta property="article:published_time" content="2020-03-17T18:42:35+02:00" />
<meta property="article:modified_time" content="2020-03-17T18:42:35+02:00" />
<meta itemprop="name" content="Illustrations with math in your tex document">
<meta itemprop="description" content="TL;DR This guide explains how to draw and add figures to a tex document using the illustration program Inkscape
and how to automate that process.
When writing my Thesis paper, I couldn&rsquo;t find any resources on how to draw and embed figures containing math expressions in .tex documents. Specifically, I wanted math equations inside my figures that will not look pixilated after modifying the figure size from the tex code. Eventually, after much trial and error, I found a workflow that I was happy with.">
<meta itemprop="datePublished" content="2020-03-17T18:42:35&#43;02:00" />
<meta itemprop="dateModified" content="2020-03-17T18:42:35&#43;02:00" />
<meta itemprop="wordCount" content="662">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Illustrations with math in your tex document"/>
<meta name="twitter:description" content="TL;DR This guide explains how to draw and add figures to a tex document using the illustration program Inkscape
and how to automate that process.
When writing my Thesis paper, I couldn&rsquo;t find any resources on how to draw and embed figures containing math expressions in .tex documents. Specifically, I wanted math equations inside my figures that will not look pixilated after modifying the figure size from the tex code. Eventually, after much trial and error, I found a workflow that I was happy with."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="" class="f3 fw2 hover-white no-underline white-90 dib">
      Computery insights
    </a>
    <div class="flex-l items-center">
      

      
      














    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=/posts/inkscape/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=/posts/inkscape/&amp;text=Illustrations%20with%20math%20in%20your%20tex%20document" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=/posts/inkscape/&amp;title=Illustrations%20with%20math%20in%20your%20tex%20document" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>

      <h1 class="f1 athelas mt3 mb1">Illustrations with math in your tex document</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-03-17T18:42:35&#43;02:00">March 17, 2020</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p><strong>TL;DR</strong> <em>This guide explains how to draw and add figures
to a tex document using the illustration program Inkscape<br>
and how to automate that process.</em></p>
<p>When writing my Thesis paper,
I couldn&rsquo;t find any resources on how to
draw and embed figures containing math expressions in <code>.tex</code> documents. Specifically, I wanted
math equations inside my figures that will not look pixilated after
modifying the figure size from the tex code.
Eventually, after much trial and error,
I found a workflow that I was happy with.</p>
<p>I share this workflow here to save
trouble from future me and any interested reader.</p>
<h1 id="prerequisites">Prerequisites</h1>
<p>I assume you have Python3 installed and a way to compile <code>.tex</code> documents.</p>
<h1 id="inkscape">Inkscape</h1>
<p>Inkscape is an open-source vector-based illustration tool.
The program has many features which facilitate precise illustrations
such as paths, shapes, and portions of circles.
Once created, any shape can be changed and transformed.
Since the program is vector-based, the drawings don&rsquo;t lose precision at different sizes
, a very important quality for your scientific work
as figures may end up in multiple documents with different formats.</p>
<h2 id="install">Install</h2>
<p>Go to the <a href="https://inkscape.org/release/inkscape-0.92.4/">Inkscape site</a> and
follow the instructions suitable for your platform.</p>
<h2 id="add-the-path-windows-only">Add the PATH (Windows only)</h2>
<p>This stage makes it possible to call Inkscape from the command line in the automation stage.</p>
<p><img src="/static/inkscape_path.gif" alt="Example image"></p>
<h2 id="create-a-figure-with-math">Create a figure with math</h2>
<p>To create any text in Inkscape, use the text box tool.
You can add math by surrounding the text with a dollar sign ($).
The color of the text is determined by the fill color.
Use an anchor to determine what side of the box the text will stick to in the compiled PDF.
Note that the size of the text is not affected by the size defined in Inkscape. The way to control the size of the text is shown in the <a href="#embed-the-figure-in-tex">embedding section</a>.
See the demo:</p>
<p><img src="/static/inkscape_text.gif" alt="Example image"></p>
<p>I recommend to check out
<a href="https://inkscape.org/doc/tutorials/basic/tutorial-basic.html">official guide</a>
to father learn about Inkscape.</p>
<h1 id="export-your-illustration">Export your Illustration</h1>
<p>Use the following command from the command line (If you are using Windows, check that you added Inkscape to your <code>PATH</code>)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Inkscape your_drawing.svg --export-pdf<span style="color:#f92672">=</span>your_drawing.pdf --export-latex -D
</code></pre></div><p>This commands exports your creates two files: <code>your_drawing.pdf</code> and <code>your_drawing.pdf_tex</code>
which can be imported in the tex document.</p>
<h2 id="automating-the-process">Automating the process</h2>
<p>I strongly believe that repetitive tasks are done on a computer can and should be automated.
Putting the first initial effort to automate the process of embedding figures will
save a ton a time when you need to change them.</p>
<p>First, put your drawing in a folder called <code>figures</code> in your project folder.
The script will convert each Inkscape <code>.svg</code> file into a <code>.tex_pdf</code> file with the same name.</p>
<p>Create a file name <code>fig2pdf.py</code> in your project&rsquo;s folder with the following content:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> os
<span style="color:#f92672">import</span> glob

svg_files <span style="color:#f92672">=</span> glob<span style="color:#f92672">.</span>glob(<span style="color:#e6db74">&#34;figures/*.svg&#34;</span>)

<span style="color:#66d9ef">for</span> svg_file <span style="color:#f92672">in</span> svg_files:
  fname, _ <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>splitext(svg_file)
  cmd <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;inkscape {svg_file} --export-pdf={fname}.pdf --export-latex -D&#34;</span>
  os<span style="color:#f92672">.</span>system(cmd)
</code></pre></div><p>Then, to run the script, either by double-clicking on it (Windows) or from the command line in the following manner (Windows or Linux):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">python3 fig2pdf.py
</code></pre></div><h1 id="embed-the-figure-in-tex">Embed the figure in tex</h1>
<p>This a minimal tex document with all the components of embedding a figure</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tex" data-lang="tex"><span style="color:#66d9ef">\documentclass</span>{article}

<span style="color:#66d9ef">\usepackage</span>{import}
<span style="color:#66d9ef">\usepackage</span>{graphicx}

<span style="color:#66d9ef">\begin</span>{document}

<span style="color:#66d9ef">\begin</span>{figure}[h]
    <span style="color:#66d9ef">\centering</span>
    <span style="color:#75715e">%
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%     ---------------------------------
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%     |This value defines the font size|
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%     ---------------------------------
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%         |
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%         V
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\fontsize</span>{6pt}{11pt}<span style="color:#66d9ef">\selectfont</span>
    <span style="color:#75715e">%
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\def\svgwidth</span>{0.5<span style="color:#66d9ef">\columnwidth</span>}
    <span style="color:#75715e">%              ^
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%              |
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%       ---------------------------------------
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%       | This value defines poriton of column|
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%       ---------------------------------------
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%                                ----------------------
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%                      ----------|Name of the Fig file|
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%                      |         ----------------------
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%                      |
</span><span style="color:#75715e"></span>    <span style="color:#75715e">%                      V
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\import</span>{./figures/}{drawing.pdf_tex}

    <span style="color:#66d9ef">\caption</span>{ The caption of the drawing}
    <span style="color:#66d9ef">\label</span>{fig:drawing}
<span style="color:#66d9ef">\end</span>{figure}

<span style="color:#66d9ef">\end</span>{document}
</code></pre></div><h1 id="demo">Demo</h1>
<p>Here is how the complete workflow looks. The steps performed are:</p>
<ol>
<li>Change a figure using Inkscape and save it</li>
<li>Run the conversion script and the tex compilation in the same line (using <code>&amp;&amp;</code>):</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">python3 fig2pdf.py <span style="color:#f92672">&amp;&amp;</span> pdflatex
</code></pre></div><ol start="3">
<li>The results are immediately changed in the compiled pdf</li>
</ol>
<p><img src="/static/inkscape_demo.gif" alt="Example image"></p>
<p>Notice that in this case, the process took some time due to a large number of figures
in the document, for a smaller number, it should be considerably faster.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="" >
    &copy;  Computery insights 2020 
  </a>
    <div>













</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
